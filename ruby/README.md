# Ruby :gem:

## メソッド定義

```rb
def methodName (args)
  ...
end
```

### return

メソッド内で最後に評価された式の値が戻り値になるので、`return`を記述する必要がない
```rb
def add (a, b)
  a + b
end

add(1, 2) # => 3
```


## 変数

### ローカル変数

先頭が小文字のアルファベットかアンダースコアで始まる必要がある。  
ローカル変数のスコープは以下。
- ブロック
- メソッド定義
- クラス、モジュール定義
- トップレベル(変数が定義されたファイル内のトップレベル)


### グローバル変数

`$`で始まる必要がある。存在しないグローバル変数を参照しようとすると`nil`が返る。


### 定数

 大文字のアルファベットで始まる必要がある。  
定義済みの定数に再代入することは、警告が出るけれども、可能。


## 条件分岐

Rubyでは`false`と`nil`以外はすべて真の値。  
`if`に与えた条件式が真の場合にif中の処理を実行する。偽の場合に実行する処理は`else`節に記述。複数の条件式で分岐の場合には`elsif`を使う。


## class

クラス内で定義したメソッドはそのクラスのインスタンスで呼び出せる。

```rb
class MyClass
  def hello
    ...
  end
end
```

クラスからインスタンスを作るには`.new`を使う。
```rb
myClass = MyClass.new
myClass.hello
```

### インスタンス変数

インスタンス内でのみ参照できる変数。`@`始まりの名前をつける。外部からインスタンス変数にアクセスするには、そのためのメソッドを定義する。  
インスタンス変数にアクセスするには、`attr_accessor`を使う。


### self

メソッド内でそのメソッドが属しているインスタンスを`self`という疑似変数で呼び出せる。  
レシーバを省略してメソッド呼び出しすると、暗黙的に`self`がレシーバになる。`Myclass#name=`のようなメソッド呼び出しの`self`は、  
ローカル変数への代入と解釈されるので、`self`を省略することはできない。


### インスタンス初期化

インスタンスの初期化を行いたい場合、`initialize`というメソッドを定義する。  
他の言語でいうコンストラクタにあたる。


### クラスメソッド

すべての値がオブジェクトなので、クラスにもメソッド呼び出しができる。  
クラスメソッドはメソッド名の前に`self.`をつけて定義する。


### クラス変数

クラスとそのインスタンスをスコープとする変数。`@@`で始める。


### 継承

継承されているクラスをスーパークラス、継承するクラスをサブクラスと呼ぶ。`<`でスーパークラスを指定する。  
スーパークラスで定義しているメソッドをサブクラスで再度定義することをオーバーライドと言う。  
`super`でスーパークラスに定義してある同名のメソッドを呼び出せる。  
スーパークラスを指定しないクラスは、Objectクラスを継承したクラスが定義される。何も継承しないクラスは定義できない。  
`superclass`メソッドでスーパークラスを得られる。


## モジュール

クラスとよく似たもの。インスタンス化できないクラスのようなもの。


